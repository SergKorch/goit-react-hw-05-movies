{"version":3,"file":"static/js/381.02b39584.chunk.js","mappings":"8NACA,GAAgB,WAAa,+BAA+B,kBAAoB,sCAAsC,mBAAqB,uCAAuC,gBAAkB,oCAAoC,aAAe,kC,mBCMvP,EANkB,SAAAA,GAChB,OAAOC,IAAAA,IAAA,mGACuFD,K,SCoEhG,EAlEmB,WAAO,IAAD,QACvB,GAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAgCP,EAAAA,EAAAA,UAAS,IAAzC,eAAOQ,EAAP,KAAiBC,EAAjB,KACMX,EAAQQ,EAAaI,IAAI,SAmB/B,OAVAC,EAAAA,EAAAA,YAAU,WACHb,IAGLc,EAAUd,GACPe,KAAKX,GACLY,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAC1BN,EAAYX,MACb,CAACA,KAGF,iBAAKoB,UAAWC,EAAAA,WAAhB,WACE,kBAAMC,SApBW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAiBF,EAAEG,cAAcC,SAAS3B,MAAM4B,MACnDC,OACAC,cACHrB,EAAgB,CAAET,MAAOyB,KAevB,WACE,kBACEL,UAAWC,EAAAA,kBACXU,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,KAAK,QACLC,aAAc1B,KAEhB,mBAAQqB,KAAK,SAASX,UAAWC,EAAAA,mBAAjC,UACE,iBAAMD,UAAWC,EAAAA,0BAAjB,0BAGJ,iBAAKD,UAAWC,EAAAA,gBAAhB,UACoC,KAA5B,OAALlB,QAAK,IAALA,GAAA,UAAAA,EAAOkC,YAAP,mBAAaC,eAAb,eAAsBC,UACrB,eAAInB,UAAWC,EAAAA,MAAf,yBAEI,OAALlB,QAAK,IAALA,GAAA,UAAAA,EAAOkC,YAAP,mBAAaC,eAAb,eAAsBC,QAAS,IAC9B,eAAInB,UAAWC,EAAAA,MAAf,6BAEF,wBACGlB,GACCA,EAAMkC,KAAKC,QAAQE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACrB,eAAItB,UAAWC,EAAAA,aAAf,UACE,SAAC,KAAD,CACEsB,GAAE,kBAAaF,GACfG,MAAO,CAAEC,KAAMxC,GACfe,UAAWC,EAAAA,eAHb,SAKGqB,KAN+BD","sources":["webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","services/searchAPI/searchAPI.js","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"MoviesPage_SearchForm__jW9w8\",\"SearchForm__input\":\"MoviesPage_SearchForm__input__LRPwc\",\"SearchForm__button\":\"MoviesPage_SearchForm__button__tjSdz\",\"section__search\":\"MoviesPage_section__search__4rnqG\",\"search__item\":\"MoviesPage_search__item__79gfz\"};","import axios from 'axios';\nconst searchAPI = query => {\n  return axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=564a0ae757c391da2cffbbed742b8161&query=${query}`\n  );\n};\n\nexport default searchAPI;\n","import { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport s from './MoviesPage.module.css';\nimport searchAPI from 'services/searchAPI';\n\nconst MoviesPage = () => {\n  const [films, setFilms] = useState(null);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [queryInp, setQueryInp] = useState('');\n  const query = searchParams.get('query');\n  const handleSubmit = e => {\n    e.preventDefault();\n    const normalizeQuery = e.currentTarget.elements.query.value\n      .trim()\n      .toLowerCase();\n    setSearchParams({ query: normalizeQuery });\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    searchAPI(query)\n      .then(setFilms)\n      .catch(err => console.log(err));\n      setQueryInp(query)\n  }, [query]);\n\n  return (\n    <div className={s.SearchForm}>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={s.SearchForm__input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search films\"\n          name=\"query\"\n          defaultValue={queryInp}\n        />\n        <button type=\"submit\" className={s.SearchForm__button}>\n          <span className={s.SearchForm__button__label}>Search</span>\n        </button>\n      </form>\n      <div className={s.section__search}>\n        {films?.data?.results?.length === 0 && (\n          <h2 className={s.title}>No results</h2>\n        )}\n        {films?.data?.results?.length > 0 && (\n          <h2 className={s.title}>Search results</h2>\n        )}\n        <ul>\n          {films &&\n            films.data.results.map(({ id, original_title }) => (\n              <li className={s.search__item} key={id}>\n                <Link\n                  to={`/movies/${id}`}\n                  state={{ from: location }}\n                  className={s.trending__list}\n                >\n                  {original_title}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["query","axios","useState","films","setFilms","location","useLocation","useSearchParams","searchParams","setSearchParams","queryInp","setQueryInp","get","useEffect","searchAPI","then","catch","err","console","log","className","s","onSubmit","e","preventDefault","normalizeQuery","currentTarget","elements","value","trim","toLowerCase","type","autoComplete","autoFocus","placeholder","name","defaultValue","data","results","length","map","id","original_title","to","state","from"],"sourceRoot":""}