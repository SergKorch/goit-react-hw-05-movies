"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[381],{7381:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=a(885),s=a(501),c=a(6871),n=a(2791),i={SearchForm:"MoviesPage_SearchForm__jW9w8",SearchForm__input:"MoviesPage_SearchForm__input__LRPwc",SearchForm__button:"MoviesPage_SearchForm__button__tjSdz",section__search:"MoviesPage_section__search__4rnqG",search__item:"MoviesPage_search__item__79gfz"},o=a(4569),l=a.n(o),u=function(e){return l().get("https://api.themoviedb.org/3/search/movie?api_key=564a0ae757c391da2cffbbed742b8161&query=".concat(e))},_=a(184),h=function(){var e,t,a,o,l=(0,n.useState)(null),h=(0,r.Z)(l,2),m=h[0],d=h[1],v=(0,c.TH)(),f=(0,s.lr)(),g=(0,r.Z)(f,2),p=g[0],S=g[1],b=(0,n.useState)(""),j=(0,r.Z)(b,2),x=j[0],F=j[1],N=p.get("query");return(0,n.useEffect)((function(){N&&(u(N).then(d).catch((function(e){return console.log(e)})),F(N))}),[N]),(0,_.jsxs)("div",{className:i.SearchForm,children:[(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value.trim().toLowerCase();S({query:t})},children:[(0,_.jsx)("input",{className:i.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",name:"query",defaultValue:x}),(0,_.jsx)("button",{type:"submit",className:i.SearchForm__button,children:(0,_.jsx)("span",{className:i.SearchForm__button__label,children:"Search"})})]}),(0,_.jsxs)("div",{className:i.section__search,children:[0===(null===m||void 0===m||null===(e=m.data)||void 0===e||null===(t=e.results)||void 0===t?void 0:t.length)&&(0,_.jsx)("h2",{className:i.title,children:"No results"}),(null===m||void 0===m||null===(a=m.data)||void 0===a||null===(o=a.results)||void 0===o?void 0:o.length)>0&&(0,_.jsx)("h2",{className:i.title,children:"Search results"}),(0,_.jsx)("ul",{children:m&&m.data.results.map((function(e){var t=e.id,a=e.original_title;return(0,_.jsx)("li",{className:i.search__item,children:(0,_.jsx)(s.rU,{to:"/movies/".concat(t),state:{from:v},className:i.trending__list,children:a})},t)}))})]})]})}}}]);
//# sourceMappingURL=381.02b39584.chunk.js.map